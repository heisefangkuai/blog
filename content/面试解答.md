# 面试

## 常见的端口与测试方法

- 21    FTP     主要看是否支持匿名，也可跑弱口令
- 22    SSH     弱口令爆破
- 23    telnet  弱口令爆破
- 53/udp    DNS服务 DNS域传送；DNS劫持；DNS缓存投毒；DNS欺骗；
- 80/443/3128/8080/8081/8443/9081   http协议WEB     常见WEB漏洞以及一些为管理后台
- 161   snmp    弱口令
- 389   ldap    是否为匿名访问
- 443   openssl 心脏出血以及一些WEB漏洞测试
- 445   smb 跑弱口令，检测是否有ms_08067等溢出
- 512、513、514 Linux Rexec服务 爆破Rlogin登录
- 873、875  rsync   是否为匿名访问，也可以跑弱口令，文件上传
- 1025  RPC NFS匿名访问
- 1080  socket  爆破
- 1099  java rmi    远程命令执行漏洞
- 1433  mssql   弱口令爆破
- 1521  oracle  弱口令爆破
- 2082/2083 cpanel主机管理系统登陆 弱口令爆破
- 2222 DA虚拟主机管理系统登陆 弱口令爆破
- 2601,2604 zebra路由器 默认密码zebra
- 3128 squid代理默认端口 如果没设置口令很可能 就直接漫游内网
- 3306 mysql 弱口令爆破
- 3312/3311 kangle主机管理系统登陆 说明
- 3389 RDP 弱口令爆破，SHIFT后门，放大镜，输入法漏洞
- 4440 rundeck web
- 4848 GlassFish web中间件 弱口令admin/adminadmin
- 5432 postgres 弱口令爆破
- 5560,7778 iSqlPlus
- 5900,5901,5902 vnc 弱口令爆破
- 5984 CouchDB http://xxx:5984/_utils/
- 6082 varnish
- 6379 redis 一般无验证，直接访问
- 7001,7002 weblogic 弱口令爆破
- 7778 Kloxo主机控制面板登录
- 8080 tomcat\jboss 弱口令爆破，jboss后台可能不验证
- 8649 ganglia
- 8080-8090 常见WEB端口
- 8083 Vestacp主机管理系统 （国外用较多）
- 8649 ganglia
- 8888 amh/LuManager 主机管理系统默认端口 说明
- 9000 fcgi fcgi php命令执行漏洞
- 9200 elasticsearch 代码执行
- 9043 websphere 弱口令爆破
- 10000 Virtualmin/Webmin 服务器虚拟主机管理系统
- 11211 memcache 内存泄露
- 27017,28017 mongodb 未授权访问
- 50000 Upnp    SAP命令执行
- 50060,50030   hadoop WEB  未授权访问

- 绕过waf的方法

判断waf拦截的函数，或字符串，然后进行对拦截的函数进行，大小写绕过、注释绕过、编码绕过、或者替换函数绕过
Header头部欺骗绕过、HTTP参数溢出（超大数据包、超长数据可能会跳过不检测）、分块传输、 畸形包绕过


注释绕过的时候 /pen/news.php?id=1 /*!union*//*!select*/user,password /*!from*/mysql.user

函数替换：
hex()、bin() ==>ascii()
sleep() ==>benchmark()
concat_ws()==>group_concat() substr((select'password'),1,1) =0x70
strcmp(left('password',1),0x69) =1
strcmp(left('password',1),0x70) =0
strcmp(left('password',1),0x71) =-1
mid()、substr() ==>substring()
@@user ==>user()
@@datadir ==>datadir()


替代空格： %20 %09 %0a %0b %0c %0d %a0 /***/  @' ' 包含字段的特殊符号，字段前添加
2 代替and： &&
3 代替or： ||
4 代替=： like
5 替代union： || (select user()) = 'root@localhost'
+ 字段前添加 字符串连接 可以逃过空格和关  键字过滤
9 ‐ 字段前添加   逃过空格
10 . 字段前添加   逃过空格
11 ~ 字段前添加   逃过空格   一串数字
12 ! 字段前添加   逃过空格   取反  1e0 科学计数法    用在id=1e0
13 ` ` 包含的字段必须是数据库已有的字段 使用反引号`，例如select  `version()`，可以用来过空格和正则，特殊情况下还可以将其做注释符用
14 @' ' 随意包含字段 可以逃过空格
15 |@a:=() 定义变量名 竖线表示分割语句
16 ' ' 随意包含字段 可以逃过空格
17 " " 随意包含字段 可以逃过空格
18 ( ) 随意包含字段和整个查询语句 可以逃过空格 只能出现在select的  s前面，替代空格
